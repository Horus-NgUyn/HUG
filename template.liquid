{% schema %}
{
  "name": "Hero Product Gallery",
  "tag": "section",
  "class": "hero-product-gallery",
  "settings": [],
  "presets": [
    {
      "name": "Hero Product Gallery",
      "category": "Image"
    }
  ]
}
{% endschema %}

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
  .hero-gallery {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: auto;
    max-width: 1400px;
    margin: 30px auto 15px auto;
    gap: 40px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    padding: 0 20px;
    min-height: auto;
  }

  .left-gallery {
    grid-column: 1;
    grid-row: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-width: 0;
    position: sticky;
    top: 20px;
    align-self: flex-start;
    max-height: calc(100vh - 40px);
    overflow-y: auto;
  }

  .right-content {
    grid-column: 2;
    grid-row: 1;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    gap: 1px;
    padding: 0;
    transform: scale(1);
    transform-origin: top left;
    width: 100%;
    height: fit-content;
    max-height: none;
    overflow: visible;
  }

  .main-image-wrapper {
    position: relative;
    width: 100%;
    height: 500px;
    border-radius: 15px;
    overflow: hidden;
    background-color: #f8f8f8;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 25px;
    border: 1px solid #e0e0e0;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
  }

  .main-image {
    max-width: 100%;
    max-height: 100%;
    width: auto;
    height: auto;
    object-fit: contain;
    cursor: crosshair;
    user-select: none;
    display: block;
    border-radius: 8px;
  }

  .hover-zoom-container {
    position: fixed;
    top: 50%;
    right: 30px;
    transform: translateY(-50%);
    width: 500px;
    height: 500px;
    border: 2px solid #ccc;
    border-radius: 15px;
    background: #fff;
    box-shadow: 0 8px 30px rgba(0,0,0,0.2);
    overflow: hidden;
    display: none;
    z-index: 1000;
  }

  .hover-zoom-container.show {
    display: block;
  }

  .hover-zoom-container img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    transform-origin: center;
    transition: transform 0.1s ease-out;
  }

  .gallery-arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(0,0,0,0.4);
    color: #fff;
    border: none;
    font-size: 24px;
    padding: 12px;
    border-radius: 50%;
    cursor: pointer;
    z-index: 10;
  }

  .gallery-arrow.left {
    left: 10px;
  }

  .gallery-arrow.right {
    right: 10px;
  }

  .thumbnails {
    width: 100%;
    display: flex;
    gap: 12px;
    justify-content: flex-start;
    overflow-x: auto;
    padding: 10px 0;
    scrollbar-width: thin;
    scrollbar-color: #ccc transparent;
  }

  .thumbnails::-webkit-scrollbar {
    height: 6px;
  }

  .thumbnails::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 3px;
  }

  .thumbnails::-webkit-scrollbar-thumb {
    background: #ccc;
    border-radius: 3px;
  }

  .thumbnails::-webkit-scrollbar-thumb:hover {
    background: #999;
  }

  .thumbnail {
    flex-shrink: 0;
    width: 100px;
    height: 100px;
    object-fit: contain;
    border: 2px solid #e0e0e0;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    user-select: none;
    background-color: #fff;
    padding: 6px;
  }

  .thumbnail:hover {
    border-color: #666;
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  }

  .thumbnail.active {
    border-color: #000;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  }
  
  .product-title {
    font-weight: 700;
    font-size: 36px;
    color: #333;
    line-height: 1.2;
    margin-bottom: 15px;
  }

  .purchase-section {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 15px;
    padding: 0;
    width: 100%;
    margin-top: 1px;
  }

  .quantity-section {
    display: flex;
    align-items: center;
    gap: 6px;
    white-space: nowrap;
  }

  .quantity-label {
    font-weight: 600;
    font-size: 16px;
    color: #333;
  }

  .quantity-controls {
    display: flex;
    align-items: center;
    border: 2px solid #dee2e6;
    border-radius: 8px;
    background: white;
  }

  .quantity-btn {
    width: 40px;
    height: 40px;
    border: none;
    background: #fff;
    color: #333;
    font-size: 18px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .quantity-btn:hover {
    background: #f8f9fa;
    color: #000;
  }

  .quantity-btn:active {
    transform: scale(0.95);
  }

  .quantity-btn.minus {
    border-radius: 6px 0 0 6px;
  }

  .quantity-btn.plus {
    border-radius: 0 6px 6px 0;
  }

  #quantity {
    width: 60px;
    height: 40px;
    border: none;
    text-align: center;
    font-size: 16px;
    font-weight: 600;
    color: #333;
    background: white;
    display: flex;
    align-items: center;
    justify-content: center;
    outline: none;
  }

  .buy-now-btn {
    flex: 1;
    padding: 15px 20px;
    background: #000;
    color: white;
    border: none;
    border-radius: 12px;
    font-size: 16px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    justify-content: center;
    align-items: center;
    text-transform: uppercase;
    letter-spacing: 1px;
    white-space: nowrap;
  }

  .buy-now-btn:hover {
    background: #333;
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.2);
  }

  .buy-now-btn:active {
    transform: translateY(0);
  }

  .btn-text {
    margin-right: 10px;
  }

  .btn-price {
    font-size: 16px;
    font-weight: 800;
  }



  .variant-selection h4 {
    font-size: 17px;
    font-weight: 600;
    color: #333;
    margin-bottom: 1px;
  }

  .variant-options {
    display: flex;
    flex-direction: column;
    gap: 3px;
  }

  .variant-option {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    padding: 15px;
    border: 2px solid #e0e0e0;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    background: #fafafa;
    width: 100%;
  }

  .variant-option:hover {
    border-color: #666;
    background-color: #f8f9fa;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }

  .variant-option input[type="radio"] {
    margin-right: 15px;
    transform: scale(1.3);
    accent-color: #000;
  }

  .variant-option input[type="radio"]:checked + .variant-label {
    color: #000;
  }

  .variant-option:has(input:checked) {
    border-color: #000;
    background: #f1f3f4;
    box-shadow: 0 4px 15px rgba(0,0,0,0.15);
  }

  .variant-label {
    display: flex;
    flex-direction: column;
    gap: 3px;
    flex-grow: 1;
  }

  .variant-desc {
    font-size: 13px;
    color: #666;
    font-weight: normal;
    line-height: 1.3;
  }

  .variant-popular {
    background: linear-gradient(45deg, #e74c3c, #c0392b);
    color: white;
    padding: 5px 12px;
    border-radius: 15px;
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    box-shadow: 0 2px 10px rgba(231, 76, 60, 0.3);
  }

  .bundle-section {
    padding: 1px 0;
  }

  .bundle-section h4 {
    font-size: 17px;
    font-weight: 600;
    color: #333;
    margin-bottom: 8px;
  }

  .bundle-options {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .bundle-option {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 15px;
    border: 2px solid #e0e0e0;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    background: #fafafa;
    width: 100%;
  }

  .bundle-option:hover {
    border-color: #666;
    background-color: #f8f9fa;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }

  .bundle-option input[type="checkbox"] {
    margin-right: 15px;
    transform: scale(1.3);
    accent-color: #000;
  }

  .bundle-option input[type="checkbox"]:disabled {
    opacity: 0.7;
    cursor: not-allowed;
  }

  .bundle-option:has(input:checked) {
    border-color: #000;
    background: #f1f3f4;
    box-shadow: 0 4px 15px rgba(0,0,0,0.15);
  }

  .bundle-left {
    display: flex;
    align-items: flex-start;
    gap: 15px;
    flex: 1;
  }

  .bundle-image {
    width: 50px;
    height: 50px;
    object-fit: contain;
    border-radius: 8px;
    background: #fff;
    padding: 5px;
    border: 1px solid #ddd;
    flex-shrink: 0;
  }

  .bundle-info {
    display: flex;
    flex-direction: column;
    gap: 3px;
    flex: 1;
  }

  .bundle-name {
    font-weight: 600;
    font-size: 16px;
    color: #333;
  }

  .bundle-desc {
    font-size: 13px;
    color: #666;
    font-weight: normal;
    line-height: 1.3;
    margin-top: 2px;
  }

  .bundle-pricing {
    display: flex;
    align-items: center;
    gap: 8px;
    justify-content: flex-end;
  }

  .bundle-current-price {
    font-size: 16px;
    font-weight: 700;
    color: #e74c3c;
  }

  .bundle-original-price {
    font-size: 14px;
    color: #999;
    text-decoration: line-through;
  }

  .bundle-free {
    background: linear-gradient(45deg, #27ae60, #2ecc71);
    color: white;
    padding: 5px 12px;
    border-radius: 15px;
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    box-shadow: 0 2px 10px rgba(39, 174, 96, 0.3);
  }

  .price-block {
    padding: 1px 0;
  }

  .current-price {
    display: flex;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
  }

  .old-price {
    text-decoration: line-through;
    color: #999;
    font-size: 20px;
    font-weight: 500;
  }

  .new-price {
    color: #e74c3c;
    font-weight: 800;
    font-size: 36px;
    text-shadow: 0 2px 4px rgba(231, 76, 60, 0.2);
  }

  .save-badge {
    background: linear-gradient(45deg, #e74c3c, #c0392b);
    color: #fff;
    padding: 8px 16px;
    border-radius: 25px;
    font-size: 14px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    animation: pulse 2s infinite;
    box-shadow: 0 2px 10px rgba(231, 76, 60, 0.3);
  }

  @keyframes pulse {
    0% {
      transform: scale(1);
      box-shadow: 0 2px 10px rgba(231, 76, 60, 0.3);
    }
    50% {
      transform: scale(1.05);
      box-shadow: 0 4px 20px rgba(231, 76, 60, 0.5);
    }
    100% {
      transform: scale(1);
      box-shadow: 0 2px 10px rgba(231, 76, 60, 0.3);
    }
  }

  .rating {
    display: flex;
    align-items: center;
    font-size: 16px;
    color: #333;
    gap: 12px;
    padding: 1px 0;
  }

  .stars {
    display: flex;
    align-items: center;
    gap: 3px;
  }

  .stars i {
    color: #ffc107;
    font-size: 18px;
    filter: drop-shadow(0 1px 2px rgba(255,193,7,0.3));
  }

  .rating-score {
    font-weight: 700;
    font-size: 18px;
    color: #333;
    margin-left: 8px;
  }

  .review-count {
    font-weight: 600;
    color: #666;
    font-size: 15px;
  }

  .key-features {
    padding: 1px 0;
    width: 100% !important;
  }

  .key-features h4 {
    font-size: 18px;
    font-weight: 700;
    color: #333;
    margin-bottom: 8px;
  }

  /* Override any grid layout for features */
  .key-features *,
  .features-list *,
  .feature-item * {
    grid-template-columns: none !important;
    grid-auto-flow: unset !important;
  }

  .features-list {
    display: flex !important;
    flex-direction: column !important;
    gap: 8px !important;
    width: 100% !important;
  }

  .feature-item {
    display: flex !important;
    align-items: flex-start !important;
    gap: 8px !important;
    padding: 8px 0 !important;
    line-height: 1.4 !important;
    width: 100% !important;
    flex-wrap: nowrap !important;
  }

  .feature-check {
    color: #333;
    font-size: 16px;
    font-weight: 700;
    flex-shrink: 0;
    margin-top: 0;
    line-height: 1.4;
  }

  .feature-item span:last-child {
    font-size: 15px;
    line-height: 1.4;
    color: #333;
  }

  .feature-item strong {
    color: #000;
    font-weight: 600;
  }

  .delivery-support-section {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 15px 0;
    background: transparent;
    margin-top: 15px;
    width: 100%;
  }

  .support-item {
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    background: #fafafa;
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .support-item:hover {
    border-color: #ccc;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }

  .support-question {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 15px;
    cursor: pointer;
    transition: all 0.3s ease;
    user-select: none;
  }

  .support-question:hover {
    background: #f0f0f0;
  }

  .support-question-left {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .support-icon {
    font-size: 20px;
    width: 24px;
    text-align: center;
  }

  .support-text {
    font-size: 16px;
    color: #333;
    font-weight: 600;
  }

  .support-arrow {
    font-size: 14px;
    color: #666;
    transition: transform 0.3s ease;
  }

  .support-item.active .support-arrow {
    transform: rotate(180deg);
  }

  .support-answer {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
    background: white;
  }

  .support-answer.active {
    max-height: 200px;
  }

  .support-answer-content {
    padding: 15px;
    border-top: 1px solid #f0f0f0;
    font-size: 14px;
    line-height: 1.5;
    color: #666;
  }

  @media (max-width: 900px) {
    .hero-gallery {
      grid-template-columns: 1fr;
      grid-template-rows: auto auto;
      max-width: 100%;
      margin: 20px auto;
      padding: 0 10px;
      gap: 20px;
    }
    
    .left-gallery {
      grid-column: 1;
      grid-row: 1;
    }

    .right-content {
      grid-column: 1;
      grid-row: 2;
      transform: scale(1);
      width: 100%;
      max-height: none;
      gap: 8px;
    }

    .delivery-support-section {
      width: 100%;
      padding: 20px 0;
      margin-top: 15px;
    }
    
    .main-image-wrapper {
      height: 350px;
      margin-bottom: 15px;
    }
    
    .hover-zoom-container {
      display: none !important;
    }
    
    .thumbnails {
      justify-content: flex-start;
      gap: 8px;
      padding: 8px 0;
    }
    
    .thumbnail {
      width: 80px;
      height: 80px;
      padding: 3px;
    }
    
    .gallery-arrow {
      font-size: 18px;
      padding: 8px;
    }
    
    .right-content {
      gap: 20px;
      padding: 15px;
    }
    
    .product-title {
      font-size: 28px;
    }
    
    .variant-option {
      padding: 15px;
      width: 100%;
    }

    .bundle-option {
      padding: 15px;
      width: 100%;
    }

    .bundle-image {
      width: 40px;
      height: 40px;
    }

    .bundle-name {
      font-size: 14px;
    }

    .bundle-current-price {
      font-size: 14px;
    }

    .bundle-original-price {
      font-size: 12px;
    }

    .bundle-desc {
      font-size: 12px;
    }

    .bundle-free {
      font-size: 10px;
      padding: 4px 8px;
      background: linear-gradient(45deg, #27ae60, #2ecc71);
      box-shadow: 0 2px 10px rgba(39, 174, 96, 0.3);
    }

    .purchase-section {
      width: 100%;
      flex-direction: column;
      gap: 15px;
    }

    .delivery-support-section {
      width: 100%;
      padding: 20px 0;
      margin-top: 15px;
    }

    .support-question {
      padding: 12px;
    }

    .support-answer-content {
      padding: 12px;
      font-size: 13px;
    }

    .support-text {
      font-size: 15px;
    }
    
    .variant-selection h4 {
      font-size: 16px;
    }
    
    .new-price {
      font-size: 28px;
    }
    
    .old-price {
      font-size: 16px;
    }
    
    .delivery-info {
      padding: 15px;
    }
    
    .delivery-info h4 {
      font-size: 16px;
    }
    
    .key-features {
      padding: 20px;
    }
    
    .features-list {
      display: flex !important;
      flex-direction: column !important;
      gap: 12px !important;
      width: 100% !important;
    }
    
    .feature-item {
      display: flex !important;
      align-items: flex-start !important;
      gap: 8px !important;
      padding: 8px 0 !important;
      font-size: 14px !important;
      line-height: 1.4 !important;
      width: 100% !important;
      flex-wrap: nowrap !important;
    }
    
    .purchase-section {
      padding: 0;
      gap: 15px;
    }
    
    .buy-now-btn {
      padding: 15px;
      font-size: 16px;
      width: 100%;
      flex: none;
    }
    
    .quantity-section {
      flex-direction: row;
      align-items: center;
      gap: 10px;
      justify-content: space-between;
    }
    
    .price-block {
      padding: 20px;
    }
    
    .new-price {
      font-size: 30px;
    }
    
    .old-price {
      font-size: 18px;
    }
  }

  @media (max-width: 480px) {
    .hero-gallery {
      margin: 20px auto;
      padding: 0 10px;
    }
    
    .main-image-wrapper {
      height: 280px;
    }
    
    .thumbnail {
      width: 50px;
      height: 50px;
    }
    
    .gallery-arrow {
      font-size: 16px;
      padding: 6px;
    }
    
    .product-title {
      font-size: 20px;
    }
  }
</style>

<div class="hero-gallery">
  <div class="left-gallery">
    <div class="main-image-wrapper">
      <button class="gallery-arrow left" onclick="changeImage(-1)"><i class="fas fa-chevron-left"></i></button>
      <img id="mainImage" class="main-image" src="" alt="Main Product Image" width="800" height="600" />
      <button class="gallery-arrow right" onclick="changeImage(1)"><i class="fas fa-chevron-right"></i></button>
    </div>
    <div class="thumbnails" id="thumbnails"></div>
  </div>

  <div class="right-content">
    <div class="product-title">Travel VixPack - Black</div>
    
    <div class="price-block">
      <div class="current-price">
        <span class="old-price" id="oldPrice">$270.00</span>
        <span class="new-price" id="newPrice">$189.00</span>
        <span class="save-badge" id="saveBadge">SAVE 25%</span>
      </div>
    </div>
    
    <div class="rating">
      <div class="stars">
        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
        <i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i>
        <span class="rating-score">4.5</span>
      </div>
      <span class="review-count">1,154 Reviews</span>
    </div>

    <div class="key-features">
      <h4>Standout Features</h4>
      <div class="features-list">
        <div class="feature-item">
          <span class="feature-check">‚Ä¢</span>
          <span><strong>Built-in Vacuum Compression</strong> ‚Äì Save up to 70% space</span>
        </div>
        <div class="feature-item">
          <span class="feature-check">‚Ä¢</span>
          <span><strong>Convertible Structure</strong> ‚Äì Switch easily between compact & expanded</span>
        </div>
        <div class="feature-item">
          <span class="feature-check">‚Ä¢</span>
          <span><strong>Wet & Dry Separation</strong> ‚Äì Keep clean and dirty items apart</span>
        </div>
        <div class="feature-item">
          <span class="feature-check">‚Ä¢</span>
          <span><strong>Integrated USB Port</strong> ‚Äì Charge devices on the go</span>
        </div>
        <div class="feature-item">
          <span class="feature-check">‚Ä¢</span>
          <span><strong>Anti-Theft Design</strong> ‚Äì Hidden zippers & TSA lock for secure travel</span>
        </div>
      </div>
    </div>

    <div class="variant-selection">
      <h4>Power Bank:</h4>
      <div class="variant-options">
        <label class="variant-option">
          <input type="radio" name="variant" value="without-powerbank" onchange="updatePrice()">
          <span class="variant-label">
            <strong>No Power Bank</strong>
          </span>
        </label>
        <label class="variant-option">
          <input type="radio" name="variant" value="with-powerbank" checked onchange="updatePrice()">
          <span class="variant-label">
            <strong>Includes Power Bank</strong>
          </span>
          <span class="variant-popular">Most Popular</span>
        </label>
      </div>
    </div>

    <div class="bundle-section">
      <h4>BUNDLE & SAVE:</h4>
      <div class="bundle-options">
        <label class="bundle-option">
          <input type="checkbox" name="bundle-air-pump" value="air-pump" checked disabled onchange="updatePrice()">
          <div class="bundle-left">
            <img class="bundle-image" src="https://cdn.shopify.com/s/files/1/0943/9441/7472/files/Air_Pump.png?v=1753007528" alt="Air Pump" />
            <div class="bundle-info">
              <span class="bundle-name">VixPump</span>
              <span class="bundle-desc">Essential tool for maintaining optimal pressure</span>
            </div>
          </div>
          <div class="bundle-pricing">
            <span class="bundle-original-price">$55.00</span>
            <span class="bundle-free">FREE</span>
          </div>
        </label>
        <label class="bundle-option">
          <input type="checkbox" name="bundle-packing-cubes" value="packing-cubes" onchange="updatePrice()">
          <div class="bundle-left">
            <img class="bundle-image" src="https://cdn.shopify.com/s/files/1/0943/9441/7472/files/Compression_Packing_Cubes.png?v=1753007528" />
            <div class="bundle-info">
              <span class="bundle-name">Compression Packing Cubes</span>
              <span class="bundle-desc">Perfect companion for organized travel</span>
            </div>
          </div>
          <div class="bundle-pricing">
            <span class="bundle-original-price">$60.00</span>
            <span class="bundle-current-price">$29.99</span>
          </div>
        </label>
      </div>
    </div>

    <div class="purchase-section">
      <div class="quantity-section">
        <div class="quantity-controls">
          <button class="quantity-btn minus" onclick="changeQuantity(-1)">-</button>
          <input type="number" id="quantity" value="1" min="1" max="10" readonly>
          <button class="quantity-btn plus" onclick="changeQuantity(1)">+</button>
        </div>
      </div>
      
      <button class="buy-now-btn" onclick="buyNow()">
        <span class="btn-text">BUY NOW </span>
        <span class="btn-price" id="btnPrice">$189.00</span>
      </button>
    </div>

    <div class="delivery-support-section">
      <div class="support-item" onclick="toggleSupport(this)">
        <div class="support-question">
          <div class="support-question-left">
            <span class="support-icon">üõ°Ô∏è</span>
            <span class="support-text">3-Year Warranty</span>
          </div>
          <span class="support-arrow">‚ñº</span>
        </div>
        <div class="support-answer">
          <div class="support-answer-content">
            Your purchase is protected with a 3-year limited warranty. We stand by the quality ‚Äî we've got your back long-term.
          </div>
        </div>
      </div>
      <div class="support-item" onclick="toggleSupport(this)">
        <div class="support-question">
          <div class="support-question-left">
            <span class="support-icon">üéß</span>
            <span class="support-text">24/7 Customer Support</span>
          </div>
          <span class="support-arrow">‚ñº</span>
        </div>
        <div class="support-answer">
          <div class="support-answer-content">
            Need help anytime? Our dedicated support team is available 24/7 to assist you via chat or email.
          </div>
        </div>
      </div>
      <div class="support-item" onclick="toggleSupport(this)">
        <div class="support-question">
          <div class="support-question-left">
            <span class="support-icon">‚úàÔ∏è</span>
            <span class="support-text">Worldwide Shipping</span>
          </div>
          <span class="support-arrow">‚ñº</span>
        </div>
        <div class="support-answer">
          <div class="support-answer-content">
            We offer free international shipping ‚Äî no matter where you are, your order gets delivered at no extra cost.
            <br><br>
            <strong>Estimated delivery: <span id="estimatedDelivery" style="font-weight: bold; color: #333;"></span></strong>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="hover-zoom-container" id="hoverZoomContainer">
  <img id="hoverZoomImage" src="" alt="Zoomed Product Image" />
</div>

<script>
  const imageUrls = [
    "https://cdn.shopify.com/s/files/1/0943/9441/7472/files/imgi_62_IMG_4860---_-2_1_2467e855-fc0f-4ddd-8d77-2ce85b26bae3.jpg?v=1753084137",
    "https://cdn.shopify.com/s/files/1/0943/9441/7472/files/imgi_17_Bildschirmfoto_2025-05-30_um_05.25.19_upscaled_1_f64115dc-dbdf-4f7a-9585-5d2eaf5b83a5.png?v=1753088737",
    "https://cdn.shopify.com/s/files/1/0943/9441/7472/files/imgi_20_Untitled_design_9_a19d055a-4b50-4fc4-a207-378f08e96192.png?v=1752830439",
    "https://cdn.shopify.com/s/files/1/0943/9441/7472/files/imgi_16_Bildschirmfoto_2025-05-30_um_05.36.24_f5c1ed23-d588-496b-bba1-fa913d8a3831.png?v=1752830439",
    "https://cdn.shopify.com/s/files/1/0943/9441/7472/files/imgi_18_O1CN01YZtSHk1UNLBIhdNXa__2658812505_-_Edited_1.png?v=1752830439",
    "https://cdn.shopify.com/s/files/1/0943/9441/7472/files/imgi_16_Bildschirmfoto_2025-05-30_um_05.36.24_f5c1ed23-d588-496b-bba1-fa913d8a3831_1.png?v=1752830439",
    "https://cdn.shopify.com/s/files/1/0943/9441/7472/files/imgi_69_Untitleddesign_3_1.png?v=1752830439",
    "https://cdn.shopify.com/s/files/1/0943/9441/7472/files/imgi_15_Bildschirmfoto_2025-05-30_um_05.22.36_1.png?v=1752830439",
    "https://cdn.shopify.com/s/files/1/0943/9441/7472/files/imgi_17_Bildschirmfoto_2025-05-30_um_05.25.19_upscaled_e1a51cfb-3281-4243-b541-a2c75da78467_1.png?v=1752830439",
    "https://cdn.shopify.com/s/files/1/0943/9441/7472/files/imgi_62_IMG_4860---_-2_1.jpg?v=1752830439",
    "https://cdn.shopify.com/s/files/1/0943/9441/7472/files/imgi_72_Untitleddesign_4_1.png?v=1752830439",
    "https://cdn.shopify.com/s/files/1/0943/9441/7472/files/imgi_67_Details.png?v=1752830439"
  ];

  let currentIndex = 0;

  const priceData = {
    'with-powerbank': {
      oldPrice: '$270.00',
      newPrice: '$189.00',
      savePercent: '25%'
    },
    'without-powerbank': {
      oldPrice: '$242.00',
      newPrice: '$169.00',
      savePercent: '23%'
    }
  };

  function updateMainImage() {
    const mainImg = document.getElementById("mainImage");
    const hoverZoomImg = document.getElementById("hoverZoomImage");
    const thumbnails = document.querySelectorAll(".thumbnail");
    
    mainImg.src = imageUrls[currentIndex];
    hoverZoomImg.src = imageUrls[currentIndex];

    thumbnails.forEach((thumb, i) => {
      thumb.classList.toggle("active", i === currentIndex);
    });
  }

  function updatePrice() {
    const variant = document.querySelector('input[name="variant"]:checked').value;
    const packingCubesChecked = document.querySelector('input[name="bundle-packing-cubes"]:checked');
    const data = priceData[variant];
    
    let basePrice = parseFloat(data.newPrice.replace('$', ''));
    let oldPrice = parseFloat(data.oldPrice.replace('$', ''));
    
    // Air Pump is always included and FREE, no price added
    
    // Packing Cubes costs $29.99
    if (packingCubesChecked) {
      basePrice += 29.99;
      oldPrice += 60.00; // Original price of packing cubes
    }
    
    document.getElementById('oldPrice').textContent = `$${oldPrice.toFixed(2)}`;
    document.getElementById('newPrice').textContent = `$${basePrice.toFixed(2)}`;
    document.getElementById('saveBadge').textContent = `SAVE ${data.savePercent}`;
    updateBuyNowPrice();
  }



  let quantity = 1;

  function changeQuantity(change) {
    const quantityInput = document.getElementById('quantity');
    quantity = Math.max(1, Math.min(10, quantity + change));
    quantityInput.value = quantity;
    updateBuyNowPrice();
  }

  function updateBuyNowPrice() {
    const variant = document.querySelector('input[name="variant"]:checked').value;
    const packingCubesChecked = document.querySelector('input[name="bundle-packing-cubes"]:checked');
    const data = priceData[variant];
    
    let price = parseFloat(data.newPrice.replace('$', ''));
    
    // Air Pump is always included and FREE - no additional cost
    
    // Packing Cubes costs $29.99
    if (packingCubesChecked) {
      price += 29.99;
    }
    
    const totalPrice = (price * quantity).toFixed(2);
    document.getElementById('btnPrice').textContent = `$${totalPrice}`;
  }

  function buyNow() {
    const variant = document.querySelector('input[name="variant"]:checked').value;
    const packingCubesChecked = document.querySelector('input[name="bundle-packing-cubes"]:checked');
    const variantName = variant === 'with-powerbank' ? 'With Power Bank' : 'No Power Bank';
    
    // Air Pump is always included
    let bundleText = ' + Air Pump';
    if (packingCubesChecked) {
      bundleText += ' + Compression Packing Cubes';
    }
    
    alert(`Adding ${quantity}x VixPack BackPack (${variantName}${bundleText}) to cart!`);
  }

  function changeImage(direction) {
    currentIndex = (currentIndex + direction + imageUrls.length) % imageUrls.length;
    updateMainImage();
  }

  function setupHoverZoom() {
    const mainImage = document.getElementById('mainImage');
    const hoverZoomContainer = document.getElementById('hoverZoomContainer');
    const hoverZoomImage = document.getElementById('hoverZoomImage');
    
    mainImage.addEventListener('mouseenter', function() {
      if (window.innerWidth > 900) {
        hoverZoomContainer.classList.add('show');
      }
    });
    
    mainImage.addEventListener('mouseleave', function() {
      hoverZoomContainer.classList.remove('show');
    });
    
    mainImage.addEventListener('mousemove', function(e) {
      if (window.innerWidth <= 900) return;
      
      const rect = mainImage.getBoundingClientRect();
      const x = (e.clientX - rect.left) / rect.width;
      const y = (e.clientY - rect.top) / rect.height;
      
      // Clamp values between 0 and 1
      const clampedX = Math.max(0, Math.min(1, x));
      const clampedY = Math.max(0, Math.min(1, y));
      
      const zoomLevel = 2.5;
      const moveX = clampedX * 100;
      const moveY = clampedY * 100;
      
      hoverZoomImage.style.transformOrigin = `${moveX}% ${moveY}%`;
      hoverZoomImage.style.transform = `scale(${zoomLevel})`;
    });
  }

  function preloadImages() {
    imageUrls.forEach(url => {
      const img = new Image();
      img.src = url;
    });
  }

  function calculateEstimatedDelivery() {
    const today = new Date();
    const minDays = 10;
    const maxDays = 15;
    
    // T√≠nh ng√†y giao h√†ng s·ªõm nh·∫•t (10 ng√†y)
    const earliestDate = new Date(today);
    earliestDate.setDate(today.getDate() + minDays);
    
    // T√≠nh ng√†y giao h√†ng mu·ªôn nh·∫•t (15 ng√†y)
    const latestDate = new Date(today);
    latestDate.setDate(today.getDate() + maxDays);
    
    // Format ng√†y theo ƒë·ªãnh d·∫°ng "Aug 2"
    const formatDate = (date) => {
      const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 
                     'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
      const month = months[date.getMonth()];
      const day = date.getDate();
      return `${month} ${day}`;
    };
    
    return `${formatDate(earliestDate)} - ${formatDate(latestDate)}`;
  }

  document.addEventListener("DOMContentLoaded", () => {
    const thumbnailsContainer = document.getElementById("thumbnails");
    const mainImage = document.getElementById("mainImage");
    
    if (!thumbnailsContainer || !mainImage) {
      console.error("Required elements not found");
      return;
    }

    imageUrls.forEach((url, index) => {
      const img = document.createElement("img");
      img.src = url;
      img.alt = `Thumbnail ${index + 1}`;
      img.className = "thumbnail";
      img.width = 100;
      img.height = 100;
      
      img.onerror = () => {
        console.warn(`Failed to load image: ${url}`);
        img.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjZjBmMGYwIi8+CjxwYXRoIGQ9Ik00MCAyMEM0Ni42Mjc0IDIwIDUyIDI1LjM3MjYgNTIgMzJDNTIgMzguNjI3NCA0Ni42Mjc0IDQ0IDQwIDQ0QzMzLjM3MjYgNDQgMjggMzguNjI3NCAyOCAzMkMyOCAyNS4zNzI2IDMzLjM3MjYgMjAgNDAgMjBaIiBmaWxsPSIjY2NjY2NjIi8+Cjx0ZXh0IHg9IjQwIiB5PSI1NSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEwIiBmaWxsPSIjOTk5OTk5IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5JbWFnZTwvdGV4dD4KPHN2Zz4K';
      };
      
      img.onclick = () => {
        currentIndex = index;
        updateMainImage();
      };
      
      thumbnailsContainer.appendChild(img);
    });
    
    updateMainImage();
    updateBuyNowPrice();
    setupHoverZoom();
    
    // C·∫≠p nh·∫≠t ng√†y d·ª± ki·∫øn giao h√†ng
    const estimatedDeliveryElement = document.getElementById('estimatedDelivery');
    if (estimatedDeliveryElement) {
      estimatedDeliveryElement.textContent = calculateEstimatedDelivery();
    }
    
    preloadImages();
    
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') {
        changeImage(-1);
      } else if (e.key === 'ArrowRight') {
        changeImage(1);
      }
    });
  });

  function toggleSupport(element) {
    const answer = element.querySelector('.support-answer');
    const isActive = element.classList.contains('active');
    
    // Close all other support items
    document.querySelectorAll('.support-item.active').forEach(item => {
      if (item !== element) {
        item.classList.remove('active');
        item.querySelector('.support-answer').classList.remove('active');
      }
    });
    
    // Toggle current item
    if (isActive) {
      element.classList.remove('active');
      answer.classList.remove('active');
    } else {
      element.classList.add('active');
      answer.classList.add('active');
    }
  }
</script>
